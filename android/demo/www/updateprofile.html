
<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
<!--<![endif]-->
<head>
	<meta charset="utf-8" />
	<title>SenseLife | Update Profile</title>
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport" />
	<meta content="" name="description" />
	<meta content="Hello, User" name="author" />
	
	<!-- ================== BEGIN BASE CSS STYLE ================== -->
	<link href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet" />
	<link href="assets/plugins/jquery-ui/themes/base/minified/jquery-ui.min.css" rel="stylesheet" />
	<link href="assets/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
	<link href="assets/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
	<link href="assets/css/animate.min.css" rel="stylesheet" />
	<link href="assets/css/style.min.css" rel="stylesheet" />
	<link href="assets/css/style-responsive.min.css" rel="stylesheet" />
	<link href="assets/css/theme/default.css" rel="stylesheet" id="theme" />
	<link href="assets/plugins/gritter/css/jquery.gritter.css" rel="stylesheet">
	<!-- ================== END BASE CSS STYLE ================== -->
	<!-- ================== BEGIN PAGE LEVEL STYLE ================== -->
	<link href="assets/plugins/parsley/src/parsley.css" rel="stylesheet" />
	<!-- ================== END PAGE LEVEL STYLE ================== -->

<!-- ================== BEGIN BASE JS ================== -->
<script src="assets/plugins/pace/pace.min.js"></script>
<!-- ================== END BASE JS ================== -->

</head>
<body class="pace-top">
	<!-- begin #page-loader -->
	<div id="page-loader" class="fade in"><span class="spinner"></span></div>
	<!-- end #page-loader -->
	
		<!-- begin #page-container -->
<div id="page-container" class="fade">
	<!-- begin error -->
	<div class="error">
		<div class="error-code m-b-10 animated fadeInDown" style="text-align:center;font-size:50px;bottom:80%">Awesome ! One last detail.</div>
		<div class="error-content" style="top:20%;width:100%">
			<div class="row" style="width:100%">
                <!-- begin col-12 -->
			    <div class="col-md-offset-2 col-md-8 ui-sortable">
			        <!-- begin panel -->
                    <div class="panel panel-inverse">
                        <div class="panel-heading">
                           
                            <h4 class="panel-title" style="font-size:18px;text-align:left">Update your profile</h4>
                        </div>
                        <div class="panel-body">
								<div>
																	
								<form method="POST" action="#" id="updateprofile" accept-charset="UTF-8" class="form-horizontal">

						        <div class="form-group">
						            <label for="firstname" class="col-md-2 control-label">Firstname:</label>
						            <div class="col-sm-10">
						              <input class="form-control" placeholder="Firstname" name="firstname" type="text" value="" id="firstname" required="true">
						            </div>
						        </div>

						        <div class="form-group">
						            <label for="lastname" class="col-md-2 control-label">Lastname:</label>
						            <div class="col-sm-10">
						              <input class="form-control" placeholder="Lastname" name="lastname" type="text" value="" id="lastname" required="true">
						            </div>
						        </div>
						        <input type="hidden" name="usertype" value="" />
						        <div class="form-group">
						            <label for="dob" class="col-md-2 control-label">Date of Birth:</label>
						            <div class="col-sm-10">
						              <input class="form-control" placeholder="Dob" name="dob" type="date" value="" id="dob" required="true">
						            </div>
						        </div>

						        <div class="form-group">
						            <label for="height" class="col-md-2 control-label">Height (in ft):</label>
						            <div class="col-sm-10">
						              <input class="form-control" placeholder="Height" name="height" type="number" value="" step="0.1" id="height" required="true">
						            </div>
						        </div>

						        <div class="form-group">
						            <label for="weight" class="col-md-2 control-label">Weight (in lbs):</label>
						            <div class="col-sm-10">
						              <input class="form-control" placeholder="Weight" name="weight" type="number" value="" id="weight" required="true">
						            </div>
						        </div>

						        <div class="form-group">
						            <label for="gender" class="col-md-2 control-label">Gender:</label>
						            <div class="col-sm-10">
						              <select class="form-control" placeholder="Usertype" id="gender" name="gender" required="true"><option value="male">Male</option><option value="female">Female</option><option value="other">Other</option></select>
						            </div>
						        </div>

						        <div class="form-group">
						            <label for="email" class="col-md-2 control-label">Email:</label>
						            <div class="col-sm-10">
						              <input class="form-control" placeholder="Email" name="email" type="text" value="" id="email" required="true">
						            </div>
						        </div>

						<div class="form-group">
						    <label class="col-sm-2 control-label">&nbsp;</label>
						    <div class="col-sm-2">
						      <input class="btn btn-sm btn-primary" type="submit" value="Update">
						    </div>
						</div>

						</form>

								</div>
								
                            </form>
                        </div>
                    </div>
                    <!-- end panel -->
                </div>
                <!-- end col-12 -->
            </div>
		</div>
	</div>
	<!-- end error -->
   
</div>
<!-- end page container -->

		
	<!-- ================== BEGIN BASE JS ================== -->
	<script src="assets/plugins/jquery/jquery-1.9.1.min.js"></script>
	<script src="assets/plugins/jquery/jquery-migrate-1.1.0.min.js"></script>
	<script src="assets/plugins/jquery-ui/ui/minified/jquery-ui.min.js"></script>
	<script src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>
	<!--[if lt IE 9]>
		<script src="assets/crossbrowserjs/html5shiv.js"></script>
		<script src="assets/crossbrowserjs/respond.min.js"></script>
		<script src="assets/crossbrowserjs/excanvas.min.js"></script>
	<![endif]-->
	<script src="assets/plugins/slimscroll/jquery.slimscroll.min.js"></script>
	<script src="assets/plugins/jquery-cookie/jquery.cookie.js"></script>
	<script src="assets/plugins/gritter/js/jquery.gritter.js"></script>
	<script src="common.js"></script>
	<!-- ================== END BASE JS ================== -->
	<!-- ================== BEGIN PAGE LEVEL JS ================== -->
	<script src="assets/plugins/parsley/dist/parsley.js"></script>
<script src="assets/js/apps.min.js"></script>
	<!-- ================== END PAGE LEVEL JS ================== -->
	
	<script>
		$(document).ready(function() {
			App.init();
			
			var query = getQueryParams(document.location.search);
			var userid = query.userid;
			
			$.get(baseurl+"updateprofile/"+userid,function(data){
				console.log(data);
				$.each(data.data,function(key,value){
					$("input[name="+key+"]").val(value);
				});
			});


			$("#updateprofile").submit(function(e){
                e.preventDefault();
                var data = $(this).serialize();
                console.log(data);
                
                $.post(baseurl+"updateprofile/"+userid,data,function(response){
                    console.log(response);
                    if(response.error){
                        console.log("error occured");
                        alert(response.message);
                    }
                    else{
                        alert(response.message);
                        window.location = response.redirect+".html?userid="+userid;
                    }
                });
                
            });
            
		});
	</script>

</body>
</html>
